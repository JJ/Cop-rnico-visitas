---
title: "Temporary evolution of the Twitter effect in the visits to a Wikipedia page."
author: "JJ Merelo"
translator: "Elena Merelo"
date: "14 de enero de 2017"
output: pdf_document
bibliography: refs.bib
abstract: "Because of a video that went viral not so long ago in which Copernico was mentioned, his figure has received quite a big amount of attention this days, though it quickly decreased as the days went by to eventually disappear from the first positions in the ranking in just three days. Let´s see how much and exactly how it evolved. We will also compare with other more recent cases, coming to the  conclusion that the duration of a week is repited, more or less approximately, for the documents studied. \n"
---
# Introduction
The “Effect Slashdot” [@adler1999slashdot,@halavais2001slashdot] is known since the 90s as the increase in views that the websites experience when mentioned by publications like Slashdot, one of the most visited in the area of technology and especially programming. It´s about the peak in visits, especially in a webpage, that in a lot of cases and more obscure ages in which there weren´t any publication of content networks had a similar effect of a denegation of service attack. In Spain we have also referred to the “Efecto Menéame” [@dans2008anatomia], because of the influence of this aggregator of news and even, before and in a lesser measure, the  "Efecto Barrapunto" [@blanco2009blog] by the web Barrapunto.com.	

To our knowledge, until now there hasn´t been many studies analising a similar effect of the social networks, maybe due to the fact that such a effect is not caused in the websites; even lsser is the effect they have in the search or mental occupation of the concepts. Indeed, the analitic web is currently far more complex and generally the visits of a page are not public. Nowadays it is of more interest to study the tendring topics in the social networks. However, the effect these have in the mindshare of the public and its behaviour while surfing the Net has not been studied.

At the start of 2017, an anecdote in a Three Kings´ parade in Madrid, in which a video locutor referred to a character as Colon and this answered “I am Copernico!” in an amusing tone, [as is narrated in Verne](http://verne.elpais.com/verne/2017/01/07/articulo/1483785572_720611.html), gave way to a storm of memes, extended on the next days when a journalist and a politician discussed in a tv programme about what did Copernico really do.

In a series of articles [merelo17, @merelo17:2, @Merelo2017:figshare] that show the temporary evolution of this mindshare through the visits to the Wikipedia page of Copernico [@wiki:Copernico] we have analized the change in the number of visits, especially looking for the duration of this phenomenon by means of studying the daily modifications. In this article, that closes the series, we look forward to finding the causes of that duration, comparing it with other phenomenons of visits to the Wikipedia which have happenned rather simultaneously.

The project that is left is organised in the following way: Further on the methodology that has been followed in order to capture and study the data is presented; next the visits to the Wikipedia page and other related webpages is analized, all along with the evolution in its ranking of viewed pages in the Wikipedia. Finally, we will draw some conclusions.

# Methodology

The Wikipedia, through its interface, allows acces to the visits of each and every one of the different pages created in it. It is a REST interface which can be directly accessed to. We do it thanks to a script that, as the rest of data and programmes, is free software and hence can be downloaded from the page that follows the conclusions and has also been shown in [@Merelo2017:figshare]. The script uses `curl` for downloading the file, just by codifying as URL th name of the page, next to `all-agents`, and selecting as parameters the two dates in which we are interested, from the start of 2017 until now. Owing to the fact that this downloads a file in JSON, we pull the data we are interested in out by means of the `jq` utility, that allows to make complex searchs int JSON files: the views, and we put it in data files. Same for downloading the views of all the pages we mention in this article.

Similar scripts are used so that the visits of the pages referenced are obtained. Nonetheless, in order to extract the ranking of the one thousand most visited pages, a script that gets the position in the ranking and the number of visits, along with the title of the article, is used. Then, the information is filtered, leaving solely the articles that are in the ranking, deleting special pages. Furthermore the ranking is one again calculated. Last, these rankings are processed to calculate the evolution in the position of the page as the days go by, saving in a file a number with the position that a specific page occupies each day.
The result of the data is shown next:

## Visits to the page of Nicolás Copérnico and other related pages

We are going to process the data with R so as to convert it in a group:

```{r setup,echo=FALSE}
library(ggplot2)
library(ggthemes)
datos.2016 <- read.table('datos/2016.dat')
datos.2017 <- read.table('datos/2017.dat')
datos <- data.frame( dia=c(1:nrow(datos.2016),1:nrow(datos.2017)),
                    year=c(rep('2016',nrow(datos.2016)),rep('2017',nrow(datos.2017))),
                    visitas=c(datos.2016$V1,datos.2017$V1))
```               
Next we draw the data of each day, by year.

```{r imagen,echo=FALSE}
ggplot(datos,aes(x=dia,y=visitas,group=year,col=year))+geom_line()+theme_tufte()
```
It is noticeable that, after reaching a peak the first day, it descends the second one and even quicklier the third one. Nevertheless, from the fourth day the fall is much softer, until having approximately the same data a week later.
Let´s see the relationship between last and this year´s visits.

```{r ratio,echo=FALSE}
ratio <- data.frame( dia=c(1:nrow(datos.2016)),ratio=datos.2017$V1/datos.2016$V1)
ggplot(ratio,aes(x=dia,y=ratio))+geom_line()+theme_tufte()
```
From having a similir number of visits, though slightly superior, it goes to having 20 times more visits, number that slowly drops to 10 times three days past the peak. On the fifth day the rate is of a 50% more of visits; a little bit over last year´s on the same date, taking into account that last year´s tendency was of a gradual growth in the number of visits.

It is interesting to have a look at the evolution of some linked pages, especially the one of the main achievement of Copérnico, the heliocentric theory, which motivated the following day a debate on TV.

```{r helio,echo=FALSE}
hc.2016 <- read.table('datos/visitas-teoría-heliocéntrica-2016.dat')
hc.2017 <- read.table('datos/visitas-teoría-heliocéntrica-2017.dat')
hc.datos <- data.frame( dia=c(1:nrow(hc.2016),1:nrow(hc.2017)),
                    year=c(rep('2016',nrow(hc.2016)),rep('2017',nrow(hc.2017))),
                    visitas=c(hc.2016$V1,hc.2017$V1))
ggplot(hc.datos,aes(x=dia,y=visitas,group=year,col=year))+geom_line()+theme_tufte()
```
The number of visits has another escale and thus there are more fluctiations along the day. However, like in the previous case, even though initially the visits were very much alike or even inferiors, presumably in five days it went back to its initial value, with a small variation. In five days it has less visits than last year, the same situation that the previous day to the incident.

What also changes is the correlation between the number of people that visit a web and the ones that visit another. We have a look at it in the next graphic.

```{r ratiohc,echo=FALSE}
ratio.hc.2016 <- datos.2016/hc.2016
ratio.hc.2017 <- datos.2017/hc.2017
hc.ratios <- data.frame( dia=c(1:nrow(ratio.hc.2016),1:nrow(ratio.hc.2017)),
                    year=c(rep('2016',nrow(ratio.hc.2016)),rep('2017',nrow(ratio.hc.2017))),
                    visitas=c(ratio.hc.2016$V1,ratio.hc.2017$V1))
ggplot(hc.ratios,aes(x=dia,y=visitas,group=year,col=year))+geom_line()+theme_tufte()
```

In the year 2016 there is a rate inferior to 2, consequently the page of the heliocentric theory receives more or less half the visits that Copérnico´s, with little variations. We suppose that there is more interest in the character than in its contribution, though not a lot. On the other hand, when the issue “Copérnico-Ojeda" breaks out, all of a sudden the people get curious about hte character, without caring much about his contribution to the scientific world. It is to important to point out that we don´t know whether they are the same people that visit the webpage, because of the fact that the path they follow in Wikipedia is not in our knowledge. Anyway, it is reasonable to suppose that a paramount percentage of the people that visit whichever of the pages will end up following the links in order to visit the other one. 

The link to the theory appears in the first lines of Copérnico´s page and it is the thirteenth link from the start of the page, while Copérnico shows up int the second paragraph of the theory page, being the tenth now.

Let´s also see another page, Galileo Galilei´s, who spread the heliocentric theory. It does not materialize in any way in the incidet but can be appealing to study the interest these kind of pages have and whether there is a offshoot of interest from one to another.

```{r galileo,echo=FALSE}
galileo.2016 <- read.table('datos/2016-galileo.dat')
galileo.2017 <- read.table('datos/2017-galileo.dat')
galileo.datos <- data.frame( dia=c(1:nrow(galileo.2016),1:nrow(galileo.2017)),
                    year=c(rep('2016',nrow(galileo.2016)),rep('2017',nrow(galileo.2017))),
                    visitas=c(galileo.2016$V1,galileo.2017$V1))
ggplot(galileo.datos,aes(x=dia,y=visitas,group=year,col=year))+geom_line()+theme_tufte()
```

Apart from the curiosity on how do they evolve in the same way, with a considerable drop the seventh day, there is neither an obvious tendency nor can we suppose that pages of this kind of content could have an increased interest. In fact, the twelfth day there were less visits in Galileo´s page than last year. Although there is a chance of a transfer of attention and hence of visits from one to another, since Galileo´s is linked to Copérnicos, and as there aren´t changes in the same way as in Copérnico´s rules out a sudden interest in the Renaissance Science and the heliocentric theory like a cause of the rise in visits that will be then attributable to the incident.

We also examine the visits to the page of Meryl Streep, whose speech during the Golden Globes had a considerable impact, in the same way as the elected president´s reaction did. In this case it is an example of a page that on its own has a lot of visits:

```{r meryl,echo=FALSE}
meryl.2016 <- read.table('datos/2016-meryl.dat')
meryl.2017 <- read.table('datos/2017-meryl.dat')
meryl.datos <- data.frame( dia=c(1:nrow(meryl.2016),1:nrow(meryl.2017)),
                    year=c(rep('2016',nrow(meryl.2016)),rep('2017',nrow(meryl.2017))),
                    visitas=c(meryl.2016$V1,meryl.2017$V1))
ggplot(meryl.datos,aes(x=dia,y=visitas,group=year,col=year))+geom_line()+theme_tufte()
```
On the other hand, the graph ressembles a witch´s hat, with a noteworthy peak and a more gradual descense in the number of visits in a week´s time. Although to the date it has not returned to the original number of views, it is to be supposed that it will take place in more or less in the same period as the page we started studying, hence  seven days for the duration of the Twitter effect in the  notoriety of a public figure and the visits to its Wikipedia pages.

# Evolution in the ranking of the most visited pages

The wikipedia also offers on its API the ranking of the one thousand most visited pages, extracted with a script that is also in the repository and is shown at [@Merelo2017:figshare]; this script generates, in JSON format, a file with the visits, the position of each article and the article itself. This is repited for the rest of the days and next the file is filtered leaving only the Wikipedia articles and deleting special pages as the input or the search page.

In the next script we read it and draw for two consecutive days starting on the seventh one. Moreover, the special pages of the Wikipedia are erased leaving only the articles.

```{r ranking,echo=FALSE}
library(jsonlite)
ranking.07 <- fromJSON("datos/ranking-070117-filtrado.json")
ggplot(ranking.07[1:20,],aes(x=puesto,y=visitas)) + geom_bar(stat="identity")+ geom_text(aes(label=articulo),color='blue',angle=90)
ranking.08 <- fromJSON("datos/ranking-080117-filtrado.json")
ggplot(ranking.08[1:20,],aes(x=puesto,y=visitas)) + geom_bar(stat="identity")+ geom_text(aes(label=articulo),color='blue',angle=90)
```
From not being between the 1000 most visited pages the day before, it has entered directly to the number 4, slightly behind the Three Kings on the day 7 and th film that apparently was on TV, Captain Phillips. The following day, day 9, Copernico´s article dropped to the 49th position in the filtered ranking. From there it fell to the 139th, 334th and eventually disappeared of the 1000 most visited pages of the Wikipedia. The page about the heliocentric theory was just the first two days, in the positions 215 and 393, to disappear the next day.
The other pages naturally have their explanation, though it is quite remarkable the relatively unknown Sandford Fleming, who reached such position because of [being the Google Doodle of the day](https://www.google.com/doodles/sandford-flemings-190th-birthday).

# Conclussion

The visits per day are multiplied by 20, more or less, the first day. The following days it loses interest, being the duration of the phenomenon approximately a week, indeed the lifetime of a meme, at least nowadays, in this country and for this type of memes. With solely a name or an identifiable person. Therefore, the data obtained for Copernico as well as similar incidents like Meryl Streep´s, seem to confirm these results that presumably will only have an universal statistic value when they are reproduced for a greater range of cases.
In addition these memes don´t tend to have much *depth*, being relegated to just a page or even to the first paragraph of it. It doesn´t seem as if the interest was spread to other concepts or people linked to it. As to the global importance of the mental occupation of the Internet´s public, it depends greatly on the initial interest of the person. The visits to the page of Meryl Streep, for instance, reach a far higher level and its position in the ranking is kept for more time, also owing to the fact that it was already between the 1000 most visited pages of the Spanish Wikipedia.

```{r meryl-cop,echo=FALSE}
meryl.cop.datos <- data.frame( dia=c(1:nrow(meryl.2017),1:nrow(datos.2017)),
                      year=c(rep('Meryl Streep',nrow(meryl.2017)),rep('Nicolás Copérnico',nrow(datos.2017))),
                    visitas=c(meryl.2017$V1,datos.2017$V1))
ggplot(meryl.cop.datos,aes(x=dia,y=visitas,group=year,col=year))+geom_line()+theme_tufte()
```
This also takes into account the fact that the *Ojeda-Copérnico incident* has awaken interest mainly in Spain, with little or none out of its politic impact. However, what happened to Meryl Streep has had  repercussion on the whole world, of course including South America, where the bigger amount of  visitors of the Spanish Wikipedia is gathered. Nevertheless, initially Meryl Streep´s visits doubled Nicolas Copernico´s, and when its notoriety started, her visits were multiplied by 25, not by 15 as in the other case.
As a conclussion, the rise in the notoriety of an incident with politic and local connotations is relatively little, compared to a cultural incident with certain politic connotations, which is global. That mindshare does not have an influence in the length of the notoriety, in both cases of about a week. 
## Note
All the data and necessary files can be found at http://github.com/JJ/Cop-rnico-visitas, and can be used with a free license. We will be very grateful given that the person that uses them references this article.
